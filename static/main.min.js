function toggleTheme(){if(document.body.classList.contains("light"))document.body.classList.remove("light"),document.body.classList.add("dark");else if(document.body.classList.contains("dark"))document.body.classList.remove("dark"),document.body.classList.add("light")}function getCSRFToken(){return document.querySelector('meta[name="csrf_"]').content}function getRegisterData(){return{showModal:!1,username:"",password:"",confirmPassword:"",usernameReserved:!1,notifs:{u:!1,pw:!1},eval:{pw:{strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1}},u:{len:!1},cpw:{eq:!1}},strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1},sanitizeUsername,isUsernameValid,isPasswordValid,setStrengths,setEvalStrengths}}function getResetPasswordData(){return{username:"",password:"",confirmPassword:"",notifs:{u:!0,pw:!1},eval:{pw:{strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1}},u:{len:!1},cpw:{eq:!1}},strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1},sanitizeUsername,isUsernameValid,isPasswordValid,setStrengths,setEvalStrengths}}function sanitizeUsername(u){return u.toLowerCase().replace(/[^a-zA-Z0-9_-]+/g,"")}function sanitizeCharacterName(n){return n.replace(/[^a-zA-Z'-]+/g,"")}function sanitizeCharacterShortDescription(sdesc){return sdesc.replace(/[^a-zA-Z, -]+/g,"").toLowerCase()}function sanitizeCharacterDescription(desc){return desc.replace(/[^a-zA-Z, '-.!()]+/g,"")}function sanitizeCharacterBackstory(bs){return bs.replace(/[^a-zA-Z, '\-\.!()\r\n]+/g,"")}function sanitizeCharacterKeyword(kw){return kw.toLowerCase().replace(/[^a-z]+/g,"")}function sanitizeRequestChangeRequest(c=""){const regex=/[^a-zA-Z;,'\"-.!():/ ]+/g;return c.replace(regex,"")}function sanitizeActorImageName(u){return u.replace(/[^a-z-]+/g,"").toLowerCase()}function isUsernameValid(u){if(u.length<4)return!1;if(u.length>8)return!1;if(new RegExp("[^a-z0-9_-]+","g").test(u))return!1;return!0}function isPasswordValid(pw){if(pw.length<8)return!1;if(pw.length>255)return!1;return!0}function isCharacterNameValid(n=""){if(n.length<4)return!1;if(n.length>16)return!1;if(new RegExp("[^a-zA-Z'-]+","g").test(n))return!1;return!0}function isCharacterShortDescriptionValid(sdesc=""){if(sdesc.length<8)return!1;if(sdesc.length>300)return!1;if(new RegExp("[^a-zA-Z, -]+","g").test(sdesc))return!1;return!0}function isCharacterDescriptionValid(desc=""){if(desc.length<32)return!1;if(desc.length>2000)return!1;if(new RegExp("[^a-zA-Z, '-.!()]+","g").test(desc))return!1;return!0}function isCharacterBackstoryValid(bs){if(bs.length<500)return!1;if(bs.length>1e4)return!1;if(/[^a-zA-Z, '\-\.!()\r\n]+/gi.test(bs))return!1;return!0}function isCharacterKeywordValid(kw){if(kw.length<2)return!1;if(kw.length>10)return!1;if(/[^a-z]+/gi.test(kw))return!1;return!0}function areCharacterKeywordsValid(kws){if(kws.length<2)return!1;if(kws.length>10)return!1;for(let i=0;i<kws.length;i++)if(!isCharacterKeywordValid(kws[i]))return!1;return!0}function isRequestChangeRequestValid(c=""){if(c.length<10)return!1;if(c.length>1000)return!1;if(/[^a-zA-Z;,'\"-.!():/ ]+/g.test(c))return!1;return!0}function isActorImageNameValid(n){if(n.length<4)return!1;if(n.length>50)return!1;if(new RegExp("[^a-z-]+","g").test(n))return!1;return!0}function setStrengths(strengths,pw){if(strengths.len=!1,pw.length>8)strengths.len=!0;if(strengths.mixedCase=!1,pw.match(/[a-z]/)&&pw.match(/[A-Z]/))strengths.mixedCase=!0;if(strengths.num=!1,pw.match(/[0-9]/))strengths.num=!0;if(strengths.specialChar=!1,pw.match(/[^a-zA-Z\d]/))strengths.specialChar=!0}function setEvalStrengths(evalStrengths,strengths){evalStrengths.len=strengths.len||evalStrengths.len,evalStrengths.mixedCase=strengths.mixedCase||evalStrengths.mixedCase,evalStrengths.num=strengths.num||evalStrengths.num,evalStrengths.specialChar=strengths.specialChar||evalStrengths.specialChar}function getLoginData(){return{showModal:!1,username:"",password:"",sanitizeUsername}}function getProfileEmailData(){return{addEmailMode:!1,addEmail:""}}function getEmailData(email){return{loadEmail:email,email,editMode:!1,deleteMode:!1}}function getProfileChangePasswordData(){return{current:"",password:"",confirmPassword:"",notifs:{pw:!1,cpw:!1},eval:{pw:{strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1}},cpw:{eq:!1}},strengths:{len:!1,mixedCase:!1,num:!1,specialChar:!1},isPasswordValid,setStrengths,setEvalStrengths}}function getGravatarEmailData(selectedEmail){return{selectedEmail}}function getProfileAvatarData(avatarSource,gravatarHash,githubUsername){return{avatarSource,gravatarHash,githubUsername,getProfileAvatarSrc}}function getProfileAvatarSrc(avatarSource,gravatarHash,githubUsername){if(avatarSource==="github")return`https://github.com/${githubUsername}.png`;else return`https://gravatar.com/avatar/${gravatarHash}.jpeg?f=y&r=m&s=256&d=retro`}function parseTimeStamp(ts){return new Date(ts*1000).toLocaleString("en-us",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).toString()}function getCharacterApplicationNameData(name){return{name,eval:{n:{len:name.length>0}},sanitizeCharacterName,isCharacterNameValid}}function getCharacterApplicationGenderData(gender){return{gender,showSubmitDialog:!1,showCancelDialog:!1,partsOpen:!1,actionsOpen:!1}}function getCharacterApplicationShortDescriptionData(sdesc){return{sdesc,eval:{sdesc:{len:sdesc.length>0}},sanitizeCharacterShortDescription,isCharacterShortDescriptionValid,showSubmitDialog:!1,showCancelDialog:!1,partsOpen:!1,actionsOpen:!1}}function getCharacterApplicationDescriptionData(description){return{description,eval:{desc:{len:description.length>0}},sanitizeCharacterDescription,isCharacterDescriptionValid,showSubmitDialog:!1,showCancelDialog:!1,partsOpen:!1,actionsOpen:!1}}function getCharacterApplicationBackstoryData(backstory){return{backstory,eval:{bs:{len:backstory.length>0}},sanitizeCharacterBackstory,isCharacterBackstoryValid,showSubmitDialog:!1,showCancelDialog:!1,partsOpen:!1,actionsOpen:!1}}function getCharacterApplicationKeywordData(kw){return{kw,eval:{kw:{len:kw.length>0}},sanitizeCharacterKeyword,isCharacterKeywordValid}}function getCharacterApplicationSummaryData(){return{showSubmitDialog:!1,showCancelDialog:!1,partsOpen:!0,actionsOpen:!0}}function getRequestData(text=""){return{sanitizeRequestChangeRequest,isRequestChangeRequestValid,showSubmitDialog:!1,showCancelDialog:!1,showPutInReviewDialog:!1,showApproveDialog:!1,showFinishReviewDialog:!1,showRejectDialog:!1,showFulfillDialog:!1,changeRequestOpen:!1,editChangeRequestOpen:!1,changeRequestOpenField:"",text}}function getPlayerPermissionsData(){return{username:"",sanitizeUsername}}function getSearchHelpIndexData(){return{search:"",tags:!1,category:!1,title:!0,content:!0}}var HEADER_CSRF_TOKEN="X-CSRF-Token",HEADER_HX_ACCEPTABLE="X-HX-Acceptable",HX_ACCEPTABLE_STATUSES={400:!0,401:!0,403:!0,404:!0,409:!0,500:!0};document.body.addEventListener("htmx:configRequest",(event)=>{event.detail.headers[HEADER_CSRF_TOKEN]=getCSRFToken()});document.body.addEventListener("htmx:beforeOnLoad",(event)=>{if(event.detail.xhr.getResponseHeader(HEADER_HX_ACCEPTABLE)!=="true")return;if(HX_ACCEPTABLE_STATUSES[event.detail.xhr.status])event.detail.shouldSwap=!0,event.detail.isError=!1});window.toggleTheme=toggleTheme;window.getCSRFToken=getCSRFToken;window.getRegisterData=getRegisterData;window.getResetPasswordData=getResetPasswordData;window.getLoginData=getLoginData;window.getProfileEmailData=getProfileEmailData;window.getEmailData=getEmailData;window.getProfileChangePasswordData=getProfileChangePasswordData;window.getGravatarEmailData=getGravatarEmailData;window.getProfileAvatarData=getProfileAvatarData;window.parseTimeStamp=parseTimeStamp;window.getCharacterApplicationNameData=getCharacterApplicationNameData;window.getCharacterApplicationGenderData=getCharacterApplicationGenderData;window.getCharacterApplicationShortDescriptionData=getCharacterApplicationShortDescriptionData;window.getCharacterApplicationDescriptionData=getCharacterApplicationDescriptionData;window.getCharacterApplicationBackstoryData=getCharacterApplicationBackstoryData;window.getCharacterApplicationKeywordData=getCharacterApplicationKeywordData;window.getCharacterApplicationSummaryData=getCharacterApplicationSummaryData;window.getRequestData=getRequestData;window.getPlayerPermissionsData=getPlayerPermissionsData;window.getSearchHelpIndexData=getSearchHelpIndexData;window.sanitizeActorImageName=sanitizeActorImageName;window.isActorImageNameValid=isActorImageNameValid;export{toggleTheme,setStrengths,setEvalStrengths,sanitizeUsername,sanitizeRequestChangeRequest,sanitizeCharacterShortDescription,sanitizeCharacterName,sanitizeCharacterKeyword,sanitizeCharacterDescription,sanitizeCharacterBackstory,sanitizeActorImageName,parseTimeStamp,isUsernameValid,isRequestChangeRequestValid,isPasswordValid,isCharacterShortDescriptionValid,isCharacterNameValid,isCharacterKeywordValid,isCharacterDescriptionValid,isCharacterBackstoryValid,isActorImageNameValid,getSearchHelpIndexData,getResetPasswordData,getRequestData,getRegisterData,getProfileEmailData,getProfileChangePasswordData,getProfileAvatarSrc,getProfileAvatarData,getPlayerPermissionsData,getLoginData,getGravatarEmailData,getEmailData,getCharacterApplicationSummaryData,getCharacterApplicationShortDescriptionData,getCharacterApplicationNameData,getCharacterApplicationKeywordData,getCharacterApplicationGenderData,getCharacterApplicationDescriptionData,getCharacterApplicationBackstoryData,getCSRFToken,areCharacterKeywordsValid};
